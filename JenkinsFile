pipeline { 
    agent { label 'master' }
    environment {
        KUBECONFIG = credentials('a700aafc-b29c-4052-a8f8-c93863709f25')
    }    
    stages {
        stage('Execute') { 
            steps { 
                sh '''#!/bin/bash
                    python3 -m venv scenario
                    source scenario/bin/activate
                    pip install --exists-action ignore yamllint
                    pip install --exists-action ignore flake8
                    oc version
                    which yamllint
                    which flake8
                    which pytest
                    oc projects
                '''
            }
        }
    }
}
